console.log("try");

var http = require('http');
var spawn = require('child_process').spawn;
var url = require('url');

function onRequest(request, response) {
    console.log('received request');
    var path = url.parse(request.url).pathname;
    console.log('requested path: ' + path);
    if (path === '/performbatch') {
        // call your already existing function here or start the batch file like this:
        response.statusCode = 200;
        response.write('Starting batch file...\n');
        spawn('whatever.bat');
        response.write('Batch file started.')
    } else {
        response.statusCode = 400;
        response.write('Could not process your request, sorry.')
    }
    response.end()
}

http.createServer(onRequest).listen(8888);